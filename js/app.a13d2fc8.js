(function(){var t={9467:function(t,e,s){"use strict";var i=s(7195),a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-full h-full items-center justify-center flex-col gap-8 max-h-full max-w-full flex overflow-y-auto relative",attrs:{id:"app"}},[e("Background"),e("Header"),e("Page")],1)},n=[],l=function(){var t=this;t._self._c,t._self._setupProxy;return t._m(0)},r=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"w-full pt-12 z-50 flex items-center flex-col gap-4 justify-center"},[e("img",{staticClass:"flex h-5 w-auto items-center justify-center",attrs:{src:s(4294)}}),e("h1",{staticClass:"text-5xl font-normal text-gray-800"},[t._v("autodistill")])])}],o=s(3911),c=s.n(o),d=c(),h=s(1001),g=(0,h.Z)(d,l,r,!1,null,null,null),f=g.exports,u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-full relative inline-flex px-6 sm:px-[10%] lg:px-[20%]"},[t.state==t.st2WaitingForEval?e("div",{staticClass:"absolute left-0 top-0 h-full bg-white inline-flex flex-1 items-center justify-center w-full z-30"},[e("p",{staticClass:"text-xs font-mono text-gray-700"},[t._v(t._s(t.progress))])]):t._e(),e("div",{staticClass:"inline-flex w-full z-20 relative flex-col gap-8"},[t.state==t.st3GotEval?e("div",{staticClass:"modelDropdown inline-flex w-full items-center flex-row gap-4"},[e("p",{staticClass:"text-sm font-medium"},[t._v("Choose Model to Test Annotations:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedModel,expression:"selectedModel"}],staticClass:"inline-flex rounded-md text-sm border border-gray-400 flex-1 py-2 px-3",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedModel=e.target.multiple?s:s[0]}}},t._l(t.availableModels,(function(s){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(s))])})),0)]):t._e(),e("div",{staticClass:"flex flex-col gap-4"},[t.state!=t.st3GotEval?e("div",{staticClass:"flex flex-row gap-3 items-center font-medium text-[#8315F9]"},[t._m(0),e("p",{staticClass:"text-base text-gray-900 font-medium"},[t._v("Upload Images")])]):t._e(),t.state==t.st0Start?e("div",{staticClass:"w-full bg-white h-[200px] bg-opacity-20 rounded-md border border-gray-400 shadow transition duration-200 p-6 inline-flex justify-center items-center flex-col gap-4",on:{dragover:function(e){return e.preventDefault(),t.onDragOver.apply(null,arguments)},drop:function(e){return e.preventDefault(),t.onDrop.apply(null,arguments)}}},[e("img",{staticClass:"w-8 items-center justify-center flex flex-none",attrs:{src:s(9938)}}),t._m(1)]):t._e(),t.state==t.st1DroppedImages?e("div",{staticClass:"inline-flex flex-col w-full bg-white bg-opacity-30 rounded-md h-[200px] overflow-y-auto border border-gray-400"},[e("div",{staticClass:"w-full sticky top-0 bg-white inline-flex justify-between z-10 py-3 px-4"},[e("p",{staticClass:"font-mono text-xs"},[t._v(t._s(t.images.length)+" Images Uploaded ")]),e("button",{staticClass:"text-xs",on:{click:function(e){return t.clearImages()}}},[t._v("Clear Selection")])]),e("div",{staticClass:"grid-container grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-3 md:gap-6 px-4 pb-4"},t._l(t.images,(function(t,s){return e("div",{key:s,staticClass:"grid-item bg-contain h-16 w-16 rounded-md rounded-md overflow-hidden border border-gray-200"},[e("img",{staticClass:"h-16",attrs:{src:t.src,alt:`Image ${s}`}})])})),0)]):t._e(),t.state==t.st3GotEval?e("div",{staticClass:"inline-flex flex-col w-full"},[e("div",{staticClass:"inline-flex bg-white bg-opacity-40 flex-col gap-4 w-full p-3 rounded-md border border-gray-200 max-w-full"},[e("div",{staticClass:"w-full flex h-[416px] flex-initial items-center justify-center relative"},[t.selectedImage?e("ImageWithPredictions",{staticClass:"z-30 scale-80 overflow-auto",attrs:{image:t.selectedImage.src,predictions:t.selectedPredictions}}):t._e(),t._m(2)],1),e("div",{staticClass:"flex flex-row flex-wrap gap-4 px-4 pb-4"},t._l(t.imagesWithPredictions,(function(s,i){return e("div",{key:i,staticClass:"rounded-md rounded-md bg-contain h-16 w-16 overflow-hidden border border-gray-200"},[e("img",{staticClass:"h-16",attrs:{src:s.src,alt:`Image ${i}`},on:{click:function(e){return t.selectImage(s)}}})])})),0)])]):t._e()]),t.state!=t.st3GotEval?e("div",{staticClass:"flex flex-col gap-4"},[t._m(3),t._m(4)]):t._e(),e("div",{staticClass:"flex flex-col gap-4"},[t.state!=t.st3GotEval?e("div",{staticClass:"flex flex-row gap-3 items-center font-medium text-[#8315F9]"},[t._m(5),e("p",{staticClass:"text-base text-gray-900 font-medium"},[t._v("Add Classes")])]):t._e(),t.state==t.st3GotEval?e("div",{staticClass:"flex flex-row gap-3 items-center font-medium text-[#8315F9]"},[t._m(6),e("p",{staticClass:"text-base text-gray-900 font-medium"},[t._v("Edit Classes")])]):t._e(),e("div",{staticClass:"w-full inline-flex items-center justify-center flex-col gap-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.classNames,expression:"classNames"}],staticClass:"inline-flex w-full rounded-md border border-gray-400 text-sm px-3 py-2 flex-1 break-words",attrs:{contenteditable:"",placeholder:"Enter classes..."},domProps:{value:t.classNames},on:{input:function(e){e.target.composing||(t.classNames=e.target.value)}}})])]),e("div",{staticClass:"flex flex-col gap-4"},[t.state!=t.st3GotEval?e("div",{staticClass:"flex flex-row gap-3 items-center font-medium text-[#8315F9]"},[t._m(7),e("p",{staticClass:"text-base text-gray-900 text-gray-800 font-medium"},[t._v("Set Confidence")])]):t._e(),t.state==t.st3GotEval?e("div",{staticClass:"flex flex-row gap-3 items-center font-medium text-[#8315F9]"},[t._m(8),e("p",{staticClass:"text-base text-gray-800 font-medium"},[t._v("Change Confidence")])]):t._e(),t._m(9)]),e("div",{staticClass:"w-full justify-center inline-flex items-center"},[e("button",{staticClass:"w-max bg-[#8315F9] px-3 py-2 rounded-md text-white font-medium text-base",on:{click:t.tryme}},[t._v("Try Me")])])])])},m=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex w-8 h-8 border border-[#8315F9] flex-none justify-center items-center rounded-full"},[e("img",{staticClass:"inline-flex w-3",attrs:{src:s(2351)}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"inline-flex flex-col items-center justify-center gap-3"},[e("h2",{staticClass:"text-base font-normal text-gray-800"},[t._v("Drag and Drop Images")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-full inline-flex h-[416px] items-center justify-center absolute left-0 top-0"},[e("p",{staticClass:"text-xs font-mono text-gray-700"},[t._v("Select an image to view annotations.")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-row gap-3 items-center font-medium text-[#8315F9]"},[e("div",{staticClass:"flex w-8 h-8 border border-[#8315F9] flex-none justify-center items-center rounded-full"},[e("img",{staticClass:"inline-flex w-4",attrs:{src:s(7972)}})]),e("p",{staticClass:"text-base text-gray-900 font-medium"},[t._v("Select Task")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-full grid grid-cols-1 sm:grid-cols-3 gap-3 lg:gap-6"},[e("div",{staticClass:"card-selected"},[e("div",{staticClass:"flex flex-col"},[e("h3",{staticClass:"font-medium text-[#8315F9] text-base"},[t._v("Object Detection")]),e("p",{staticClass:"text-xs text-gray-800"},[t._v("Find multiple things and their specific location.")])])]),e("div",{staticClass:"card-disabled"},[e("div",{staticClass:"flex flex-col"},[e("h3",{staticClass:"font-medium text-gray-400 text-base"},[t._v("Classification")]),e("p",{staticClass:"text-xs text-gray-400"},[t._v("Assign labels to the entire image.")])])]),e("div",{staticClass:"card-disabled"},[e("div",{staticClass:"flex flex-col"},[e("h3",{staticClass:"font-medium text-gray-400 text-base"},[t._v("Segmentation")]),e("p",{staticClass:"text-xs text-gray-400"},[t._v("Detect multiple objects and their actual shape.")])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex w-8 h-8 border border-[#8315F9] flex-none justify-center items-center rounded-full"},[e("img",{staticClass:"inline-flex w-3",attrs:{src:s(3879)}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex w-8 h-8 border border-[#8315F9] flex-none justify-center items-center rounded-full"},[e("img",{staticClass:"inline-flex w-3",attrs:{src:s(3879)}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex w-8 h-8 border border-[#8315F9] flex-none justify-center items-center rounded-full"},[e("img",{staticClass:"inline-flex w-3",attrs:{src:s(9523)}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex w-8 h-8 border border-[#8315F9] flex-none justify-center items-center rounded-full"},[e("img",{staticClass:"inline-flex w-3",attrs:{src:s(9523)}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-full inline-flex items-center justify-center flex-col gap-3"},[e("div",{staticClass:"inline-flex w-full"},[e("div",{staticClass:"w-full items-center justify-center inline-flex flex-row gap-6 px-4"},[e("span",{staticClass:"text-xs font-mono text-gray-700"},[t._v("0%")]),e("input",{staticClass:"slider",attrs:{type:"range",min:"1",max:"100",value:"50",id:"myRange"}}),e("span",{staticClass:"text-xs font-mono text-gray-700"},[t._v("100%")])])])])}];s(7658);function x(){const t=1e3*Math.random();return new Promise((e=>setTimeout(e,t)))}const p={},v={},w={"15_jpeg_jpg.rf.8bf0c7ba929b90cfa46ebbb18f2324dd.jpg":{models:[{name:"grounded_sam",status:"done",annotations:[{x:340,y:322,width:438,height:322,class:"car"},{x:340,y:322,width:436,height:321,class:"lion"},{x:340,y:322,width:436,height:321,class:"zebra"}]},{name:"grounded_dino",status:"done",annotations:[{x:340,y:322,width:438,height:322,class:"car"},{x:340,y:322,width:436,height:321,class:"lion"},{x:340,y:322,width:436,height:321,class:"zebra"}]}]},"dog.jpg":{image_id:"id2",models:[{name:"grounded_sam",status:"done",annotations:[{x:951,y:561,width:527,height:859,class:"dog"},{x:951,y:561,width:526,height:858,class:"horse"},{x:951,y:561,width:527,height:859,class:"lion"},{x:951,y:561,width:527,height:858,class:"zebra"}]},{name:"grounded_dino",status:"done",annotations:[{x:951,y:561,width:527,height:859,class:"dog"},{x:951,y:561,width:526,height:858,class:"horse"},{x:951,y:561,width:527,height:859,class:"lion"},{x:951,y:561,width:527,height:858,class:"zebra"}]}]},"lion-1.jpg":{models:[{name:"grounded_sam",status:"done",annotations:[{x:187,y:264,width:376,height:484,class:"dog"},{x:507,y:312,width:315,height:389,class:"dog"},{x:187,y:265,width:375,height:484,class:"horse"},{x:507,y:312,width:315,height:389,class:"horse"},{x:187,y:265,width:375,height:484,class:"lion"},{x:507,y:312,width:315,height:389,class:"lion"},{x:188,y:265,width:375,height:484,class:"zebra"}]},{name:"grounded_dino",status:"done",annotations:[{x:187,y:264,width:376,height:484,class:"dog"},{x:507,y:312,width:315,height:389,class:"dog"},{x:187,y:265,width:375,height:484,class:"horse"},{x:507,y:312,width:315,height:389,class:"horse"},{x:187,y:265,width:375,height:484,class:"lion"},{x:507,y:312,width:315,height:389,class:"lion"},{x:188,y:265,width:375,height:484,class:"zebra"}]}]},"Nokota_Horses_cropped.jpg":{image_id:"id4",models:[{name:"grounded_sam",status:"done",annotations:[{x:325,y:184,width:390,height:327,class:"dog"},{x:204,y:174,width:365,height:320,class:"dog"},{x:325,y:183,width:389,height:326,class:"horse"},{x:205,y:174,width:366,height:320,class:"horse"},{x:325,y:183,width:389,height:327,class:"lion"},{x:204,y:174,width:365,height:321,class:"lion"}]},{name:"grounded_dino",status:"done",annotations:[{x:325,y:184,width:390,height:327,class:"dog"},{x:204,y:174,width:365,height:320,class:"dog"},{x:325,y:183,width:389,height:326,class:"horse"},{x:205,y:174,width:366,height:320,class:"horse"},{x:325,y:183,width:389,height:327,class:"lion"},{x:204,y:174,width:365,height:321,class:"lion"}]}]},"zebra-stripes-gty-jt-190613_hpMain_16x9_992.jpg":{models:[{name:"grounded_sam",status:"done",annotations:[{x:269,y:291,width:354,height:412,class:"dog"},{x:270,y:291,width:352,height:412,class:"horse"},{x:731,y:343,width:289,height:304,class:"horse"},{x:475,y:278,width:123,height:417,class:"horse"},{x:269,y:291,width:355,height:412,class:"lion"},{x:727,y:342,width:284,height:304,class:"zebra"},{x:270,y:291,width:355,height:412,class:"zebra"},{x:552,y:306,width:168,height:336,class:"zebra"},{x:825,y:345,width:140,height:313,class:"zebra"},{x:475,y:278,width:123,height:417,class:"zebra"}]},{name:"grounded_dino",status:"done",annotations:[{x:269,y:291,width:354,height:412,class:"dog"},{x:270,y:291,width:352,height:412,class:"horse"},{x:731,y:343,width:289,height:304,class:"horse"},{x:475,y:278,width:123,height:417,class:"horse"},{x:269,y:291,width:355,height:412,class:"lion"},{x:727,y:342,width:284,height:304,class:"zebra"},{x:270,y:291,width:355,height:412,class:"zebra"},{x:552,y:306,width:168,height:336,class:"zebra"},{x:825,y:345,width:140,height:313,class:"zebra"},{x:475,y:278,width:123,height:417,class:"zebra"}]}]}};var y={async uploadImage(t,e,s,i){await x();const a=p[t]=p[t]||{};a.images=a.images||{};const n=Math.random().toString(16).substring(2);return v[n]=i,a.images[n]={imageb64:e,classNames:s},{image_id:n}},async getJobStatus(t,e){return await x(),e.map((t=>{const e=v[t],s=w[e];return{image_id:t,models:s.models}}))}};function _(t){return new Promise((e=>setTimeout(e,t)))}var b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"image-container"},[e("canvas",{ref:"canvas"})])},C=[],j={name:"ImageWithRectangle",props:{image:{type:String,required:!0},predictions:{type:Array,required:!0}},mounted(){this.drawImageWithRectangle()},watch:{image(){this.drawImageWithRectangle()},predictions(){this.drawImageWithRectangle()}},methods:{drawImageWithRectangle(){const t=this.$refs.canvas,e=t.getContext("2d"),s=new Image;s.onload=()=>{t.width=s.width,t.height=s.height,e.drawImage(s,0,0),this.predictions.forEach((t=>{const{x:s,y:i,width:a,height:n}=t;e.beginPath(),e.rect(s-a/2,i-n/2,a,n),e.strokeStyle="red",e.lineWidth=2,e.stroke(),e.fillStyle="red",e.font="16px Arial",e.fillText(t.class,s-a/2,i-n/2-5)}))},s.src=this.image}}},I=j,z=(0,h.Z)(I,b,C,!1,null,"298aebce",null),P=z.exports;const F=0,k=1,E=2,M=3;function D(t){let e=0,s=0;for(const i of t)for(const t of i.models)s++,"done"===t.status&&e++;return{countDone:e,countTotal:s}}var W={name:"Page",data(){const t={state:"0",images:[],classNames:"",progress:"",selectedImage:null,availableModels:["a","b","c"],selectedModel:null};return t.st0Start=F,t.st1DroppedImages=k,t.st2WaitingForEval=E,t.st3GotEval=M,t},computed:{imagesWithPredictions(){return this.images.filter((t=>!!t.models))},selectedPredictions(){const t=this.selectedImage,e=this.selectedModel,s=t.models.find((t=>t.name===e));return s.annotations}},methods:{onDragOver(){},onDrop(t){this.images=[];const e=t.dataTransfer.files;Array.from(e).forEach((t=>{if(t.type.startsWith("image/")){const e=new FileReader;e.onload=e=>{this.images.push({src:e.target.result,filename:t.name})},e.readAsDataURL(t)}})),this.state=k},clearImages(){this.images=[],this.state=F},async tryme(){this.state=E;const t=""+parseInt(1e12*Math.random());await this._uploadImages(t),await this._waitForEval(t)},async _uploadImages(t){this.progress="uploading images... 0%";const e=this,s=this.classNames.split(",").map((t=>t.trim()));return new Promise((i=>{const a=this;let n=0;const l=this.images.length;this.images.forEach((r=>{const o=this;y.uploadImage(t,r.src,s,r.filename).then((t=>{const s=this;console.log(e,a,o,s),r.id=t.image_id,n++,n===l?(this.progress="",i()):this.progress=`Uploading images... ${parseInt(100*n/l)}%`}))}))}))},async _waitForEval(t){this.progress="Waiting for magic annotations...";let e=!1;while(!e){const s=await y.getJobStatus(t,this.images.map((t=>t.id))),{countDone:i,countTotal:a}=D(s);if(e=i===a,e){for(const t in s)this.images[t].models=s[t].models;this.availableModels=s[0].models.map((t=>t.name)),this.selectedModel=this.availableModels[0],this.state=M}else this.progress=`Waiting for magic annotations... ${i}/${a}`,await _(1e3)}},selectImage(t){this.selectedImage=t}},components:{ImageWithPredictions:P}},O=W,S=(0,h.Z)(O,u,m,!1,null,null,null),T=S.exports,N=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("img",{staticClass:"w-full z-0 absolute -top-44 left-0",attrs:{src:s(8893)}})},A=[],G=s(2319),R=s.n(G),Z=R(),$=(0,h.Z)(Z,N,A,!1,null,null,null),U=$.exports,H={name:"App",components:{Header:f,Page:T,Background:U}},q=H,B=(0,h.Z)(q,a,n,!1,null,null,null),J=B.exports;i.ZP.config.productionTip=!1,new i.ZP({render:t=>t(J)}).$mount("#app")},2319:function(){},3911:function(){},8893:function(t,e,s){"use strict";t.exports=s.p+"img/gradient.a6368bb8.svg"},3879:function(t,e,s){"use strict";t.exports=s.p+"img/list.0fb61599.svg"},9523:function(t,e,s){"use strict";t.exports=s.p+"img/slider.7bd63673.svg"},7972:function(t,e,s){"use strict";t.exports=s.p+"img/telescope.c805666f.svg"},2351:function(t,e,s){"use strict";t.exports=s.p+"img/upload.6faa025f.svg"},4294:function(t,e,s){"use strict";t.exports=s.p+"img/roboflow-purple.ceef8fc8.png"},9938:function(t,e,s){"use strict";t.exports=s.p+"img/upload.604e190f.png"}},e={};function s(i){var a=e[i];if(void 0!==a)return a.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,i,a,n){if(!i){var l=1/0;for(d=0;d<t.length;d++){i=t[d][0],a=t[d][1],n=t[d][2];for(var r=!0,o=0;o<i.length;o++)(!1&n||l>=n)&&Object.keys(s.O).every((function(t){return s.O[t](i[o])}))?i.splice(o--,1):(r=!1,n<l&&(l=n));if(r){t.splice(d--,1);var c=a();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[i,a,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.p=""}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var a,n,l=i[0],r=i[1],o=i[2],c=0;if(l.some((function(e){return 0!==t[e]}))){for(a in r)s.o(r,a)&&(s.m[a]=r[a]);if(o)var d=o(s)}for(e&&e(i);c<l.length;c++)n=l[c],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(d)},i=self["webpackChunkvueclip"]=self["webpackChunkvueclip"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(9467)}));i=s.O(i)})();
//# sourceMappingURL=app.a13d2fc8.js.map